<!-- library/templates/library/resource_detail.html -->
{% extends "library/base.html" %}
{% block title %}Resource Details{% endblock %}

{% load static %}

<link rel="stylesheet" href="{% static 'library/styles.css' %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">


{% block content %}
<h2>{{ resource.title }}</h2>
<p><strong>Author:</strong> {{ resource.author }}</p>
<p><strong>Type:</strong> {{ resource.resource_type }}</p>
<p><strong>Status:</strong> {{ resource.status }}</p>

<div class="mt-4">

    {% if resource.status == "AVAILABLE" %}
        <a href="/resources/{{ resource.id }}/checkout/" class="btn btn-success">Checkout</a>

    {% else %}
        <button class="btn btn-secondary" disabled>Not Available</button>
        <a href="/resources/{{ resource.id }}/reserve/" class="btn btn-warning">Reserve</a>
    {% endif %}

</div>

<hr>

<h4>Checkout History</h4>
{% if current_checkout %}
<p>Currently checked out by {{ current_checkout.patron.username }} until {{ current_checkout.due_date|date:"M d, Y" }}</p>
{% else %}
<p>No active checkout.</p>
{% endif %}

{% endblock %}
